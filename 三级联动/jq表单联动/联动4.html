<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>联动4</title>
</head>
<body>
    <div>
        <div class="content">
            <select name="" id="sel_p">
                <!-- <option value="">请选择省份</option> -->
            </select>
            <select name="" id="sel_c">
                <option value="">城市</option>
            </select>
            <select name="" id="sel_a">
                <option value="">地区</option>
            </select>
        </div>
    </div>


    <script type="text/javascript" src="./jQuery/jquery-3.3.1.min.js"></script>
    <script type="text/javascript">
        var arr_p = [
            {'id': 0, 'text': '请选择省份'},
            {'id': 1, 'text': '广东'},
            {'id': 2, 'text': '湖南'},
            {'id': 3, 'text': '河北'}
        ];
        var arr_c = [
            {'id': 0, 'p_id':0, 'text': '请选择城市'},
            {'id': 1, 'p_id':1, 'text': '广州'},
            {'id': 2, 'p_id':1, 'text': '佛山'},
            {'id': 3, 'p_id':1, 'text': '深圳'},
            {'id': 4, 'p_id':2, 'text': '长沙'},
            {'id': 5, 'p_id':2, 'text': '永州'},
            {'id': 6, 'p_id':3, 'text': '石家庄'},
            {'id': 7, 'p_id':3, 'text': '沧州'}
        ];
        var arr_a = [
            // {'id': 0, 'c_id':0, 'text': '地区'},
            {'id': 1, 'c_id':1, 'text': '广州A区'},
            {'id': 2, 'c_id':1, 'text': '广州B区'},
            {'id': 3, 'c_id':1, 'text': '广州C区'},
            {'id': 4, 'c_id':1, 'text': '广州D区'},
            {'id': 5, 'c_id':2, 'text': '佛山A区'},
            {'id': 6, 'c_id':2, 'text': '佛山B区'},
            {'id': 7, 'c_id':2, 'text': '佛山C区'}
        ];

        // 定义选择省份的函数
        function general_select_p(){
            var select = $("#sel_p");
            // select.empty();
            var len = arr_p.length;
            for(var i = 0; i < len; i++){
                var option = '<option value="' + arr_p[i]['id'] + '">' + arr_p[i]['text'] + '</option>';
                select.append(option);
            }
        }

        // 定义选择城市的函数
        function general_select_c(p_id){
            var select = $("#sel_c");
            var len = arr_c.length;
            if(p_id==0){
                select.empty();
                var init_c = '<option value="">城市</option>';
                select.append(init_c);
            }else{
                for(var i = 0; i < len; i++){
                    if(arr_c[i]['p_id']==p_id){
                        var option = '<option value="' + arr_c[i]['id'] + '">' + arr_c[i]['text'] + '</option>';
                        select.append(option);
                    }
                }
            }
        }

        // 定义选择地区的函数
        function general_select_a(c_id){
            var select = $("#sel_a");
            var len = arr_a.length;
            if(c_id==0){
                select.empty();
                var init_a = '<option value="">地区</option>';
                select.append(init_a);
            }else{
                for(var i = 0; i < len; i++){
                    if(arr_a[i]['c_id']==c_id){
                        var option = '<option value="' + arr_a[i]['id'] + '">' + arr_a[i]['text'] + '</option>';
                        select.append(option);
                    }
                }
            }
        }       

        // 页面加载时调用函数方法
        $(document).ready(function(){
            general_select_p();
        });

        // 当省份选项框发生 change 事件时
        $("#sel_p").change(function(){
            // 初始化城市选项框
            var city = $("#sel_c")
            city.empty();
            var init_c = '<option value="">请选择城市</option>';
            city.append(init_c);
            // 初始化地区选项框
            var area = $("#sel_a")
            area.empty();
            var init_a = '<option value="">地区</option>';
            area.append(init_a);

            // 将省份 id 传递给选择城市的函数
            var p_id = $(this).val();
            general_select_c(p_id);
        });

        // 当城市选项框发生 change 事件时
        $("#sel_c").change(function(){
            // 初始化地区选项框
            var area = $("#sel_a")
            area.empty();
            var init_a = '<option value="">请选择地区</option>';
            area.append(init_a);

            // 将城市 id 传递给选择地区的函数
            var c_id = $(this).val();
            general_select_a(c_id);
        });

    </script>
</body>
</html>